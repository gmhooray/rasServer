<!doctype html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Test</title>
    <script src="js/jquery.min.js"></script>
    <link rel="stylesheet" href="css/fotorama.css"/>
    <script src="js/fotorama.js"></script>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
    <div id="header"></div>
    <div id="container">
        <div id="fotorama" class="fotorama" data-auto="false">
            <img src="files/test/bizcoin_info.gif" width="200" height="200">
            <img src="files/test/btn_confirm3.png" width="200" height="200">
            <img src="files/test/issue1.PNG" width="200" height="200">
        </div>
    </div>
    <div id="footer">

    </div>
    <script>
        $(document).ready(function(){
            // 1. Initialize fotorama manually.
            var $fotoramaDiv = $('#fotorama').fotorama();

            // 2. Get the API object.
            var fotorama = $fotoramaDiv.data('fotorama');

            // 3. Inspect it in console.
            console.log(fotorama);

            $('.fotorama').on('fotorama:ready', function (e, fotorama) {

                console.log(e.type, fotorama.activeIndex);
            });
            $('.fotorama').on('fotorama:show fotorama:showend',
                    function (e, fotorama, extra) {
                        if(fotorama.activeIndex == (fotorama.size-1)){
                            fotorama.push({img: 'files/test/issue1.PNG', thumb: 'files/test/issue1.PNG'});
                        }
//                        debugger;
                        console.log(fotorama.activeIndex);
//                        console.log(e.type + (extra.user ? ' after userâ€™s touch' : ''));
                        console.log('transition duration: ' + extra.time);
                    }
            );
        })
    </script>
    <!--<script src="/socket.io/socket.io.js"></script>-->
	<script>
        $('#more').on('click',function(){
            $.ajax({
                type:'POST',
                url: "/getList",
                data: { index : 1 }
            }).done(function(data) {
                console.log(data);
            });
        })

        /*var socket = io($(location).attr('host'));
        var gEvent = function(){this.$init.apply(this,arguments)}

        gEvent.prototype={
            $init:function(){
	            this._attachedEvent(socket);
            },
	        _attachedEvent: function(socket){
				this._ePressPrevKey(socket);
		        this._ePressNextKey(socket);
	        },
	        _ePressPrevKey:function(socket,sID){
                $('#btn_prev').on('click',function(){
					socket.emit('pushPrev',{key:'Prev'})
                });
            },
	        _ePressNextKey:function(socket,sID){
                $('#btn_next').on('click',function(){
	                socket.emit('pushNext',{key:'Next'})
                });
            }
        }

        $(document).ready(function(){
            new gEvent();
        })*/

	</script>
</body>
</html>